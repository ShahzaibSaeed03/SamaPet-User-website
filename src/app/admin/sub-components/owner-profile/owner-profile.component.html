<div class="owner-profile-page">
  <h1>Owner Profile</h1>

  <div class="profile-header">
    <input type="text" placeholder="Full Name" class="search-input">
    <div class="header-actions">
      <button class="btn red-btn">Email</button>
      <button class="btn red-btn">Send email</button>
    </div>
  </div>

  <div class="profile-info">
    <div class="profile-picture">
      <img [(src)]="profileImage" alt="Profile Picture">
    </div>
    <div class="profile-details">
      <div class="row">
        <input type="text" placeholder="Full Name" [(ngModel)]="fullName">
        <input type="text" placeholder="User ID" [(ngModel)]="ownerId">
      </div>
      <div class="row">
        <input type="text" placeholder="Contact 1" [(ngModel)]="phone">
        <input type="text" placeholder="Contact 2" [(ngModel)]="phone">
        <input type="email" placeholder="Email Address" [(ngModel)]="email">
      </div>
      <div class="row">
        <input type="text" placeholder="Nationality" [(ngModel)]="nationality">
        <input type="date" placeholder="D.O.B" [(ngModel)]="dateOfBirth">
        <input type="text" placeholder="Country" [(ngModel)]="place">
      </div>
      <div class="row">
        <input type="text" placeholder="Address" [(ngModel)]="address">
        <input type="text" placeholder="Place" [(ngModel)]="place">
      </div>
      <input type="text" placeholder="Shipment address" [(ngModel)]="address">
    </div>
  </div>

  <div class="membership-buttons">
    <button class="btn green-btn">Pet Membership No: {{membershipsPets.length}}</button>
    <button class="btn orange-btn">Non-Member No: {{nonMembershipsPets}}</button>
    <button class="btn blue-btn">Free Trial No {{freeTrialPets}}</button>
    <button class="btn orange-btn">Adopt/lost/mate page</button>
  </div>

  <div class="profile-tabs">
    <button class="tab-btn active">Profile</button>
    <button class="tab-btn">Discount Usage</button>
    <button class="tab-btn">History</button>
  </div>

  <div class="my-pets-section">
    <h2>My Pets</h2>
    <div class="pets-grid">
      <div class="pet-card" *ngFor="let pet of shownPets" [class.selected]="pet.selected" (click)="togglePetSelection(pet)">
        <input type="checkbox" [(ngModel)]="pet.selected">
        <img [src]="pet.image" [alt]="pet.name">
        <p>{{ pet.name }}</p>
        <div>
          <label for="collarCode">Collar Code:</label>
          <input type="text" id="collarCode" [(ngModel)]="pet.collarCode">
          <button class="btn" (click)="confirmCode(pet.id, pet.collarCode)">Confirm</button>
        </div>
      </div>
    </div>
    <div class="pet-actions">
      <button class="btn purple-btn" (click)="performAction('adopt')">Adopt pet</button>
      <button class="btn purple-btn" (click)="performAction('lost')">Lost pet</button>
      <button class="btn purple-btn" (click)="performAction('mate')">Mate pet</button>
      <button class="btn purple-btn" (click)="addPet()">Add pet</button>
    </div>
  </div>

  <div class="membership-invoice-section">
    <h2>Membership Invoice</h2>
    <table>
      <thead>
        <tr>
          <th><input type="checkbox"></th>
          <th>Pic</th>
          <th>Pet Name</th>
          <th>Issue Date</th>
          <th>Expiry Date</th>
          <th>Type of user</th>
          <th>Status</th>
          <th>Period</th>
          <th>Package</th>
          <th>Delivery</th>
          <th>Tax</th>
          <th>Amount</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let invoice of invoices">
          <td><input type="checkbox"></td>
          <td><img [src]="invoice.image" [alt]="invoice.petName"></td>
          <td>{{ invoice.petName }}</td>
          <td><input type="date" [(ngModel)]="invoice.issueDate" (change)="calculatePeriod(invoice)"></td>
          <td><input type="date" [(ngModel)]="invoice.expiryDate" (change)="calculatePeriod(invoice)"></td>
          <td>
            <select [(ngModel)]="invoice.userType">
              <option value="member">Member</option>
              <option value="non-member">Non-Member</option>
              <option value="free-trial">Free Trial</option>
            </select>
          </td>
          <td>
            <select [(ngModel)]="invoice.status">
              <option value="paid">Paid</option>
              <option value="pending">Pending</option>
              <option value="done">Done</option>
              <option value="cash">Cash</option>
              <option value="card">Card</option>
              <option value="benefit">Benefit</option>
            </select>
          </td>
          <td>{{ invoice.period }}</td>
          <td>
            <select [(ngModel)]="invoice.package">
              <option value="gold">Gold</option>
              <option value="silver">Silver</option>
              <option value="none">None</option>
            </select>
          </td>
          <td>
            <select [(ngModel)]="invoice.delivery">
              <option value="yes">Yes</option>
              <option value="no">No</option>
            </select>
          </td>
          <td><input type="number" [(ngModel)]="invoice.tax"></td>
          <td><input type="number" [(ngModel)]="invoice.amount"></td>
        </tr>
      </tbody>
    </table>
    <div class="invoice-actions">
      <button class="btn green-btn" (click)="printCard()">Print Card</button>
      <button class="btn green-btn" (click)="printInvoice()">Print Invoice</button>
    </div>
  </div>
</div>